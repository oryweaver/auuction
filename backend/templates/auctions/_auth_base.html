<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{% block title %}Auth{% endblock %}</title>
    <style>
      :root { --primary:#0d6efd; --danger:#dc3545; --muted:#6c757d; --bg:#f8f9fa; }
      body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; background: var(--bg); margin: 0; }
      .wrap { max-width: {% block max_width %}520px{% endblock %}; margin: 6vh auto; background: #fff; padding: 28px; border-radius: 12px; box-shadow: 0 10px 18px rgba(0,0,0,.06); }
      h1 { margin: 0 0 16px; font-size: 24px; }
      .muted { color: var(--muted); font-size: 14px; margin-bottom: 18px; }
      .messages { margin: 8px 0 16px; padding: 0; list-style: none; }
      .msg { padding: 10px 12px; border-radius: 8px; margin-bottom: 8px; }
      .msg.error { background: #fde8ea; color: #842029; border: 1px solid #f5c2c7; }
      .msg.success { background: #e7f5ee; color: #0f5132; border: 1px solid #badbcc; }
      form .row { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
      form .field { margin-bottom: 14px; }
      label { display: block; font-weight: 600; margin-bottom: 6px; }
      input[type="text"], input[type="email"], input[type="password"] { width: 100%; padding: 10px 12px; border: 1px solid #ced4da; border-radius: 8px; font-size: 16px; }
      .help, .errorlist { margin-top: 6px; font-size: 13px; }
      .errorlist { color: #842029; }
      .actions { margin-top: 14px; display: flex; align-items: center; gap: 10px; flex-wrap: wrap; }
      button { background: var(--primary); color: #fff; border: 0; padding: 10px 14px; border-radius: 8px; font-size: 16px; cursor: pointer; }
      a { color: var(--primary); text-decoration: none; }
      @media (max-width: 640px){ form .row { grid-template-columns: 1fr; } }
    </style>
    {% block extra_head %}{% endblock %}
  </head>
  <body>
    <div class="wrap">
      {% block header %}{% endblock %}
      {% if messages %}
      <ul class="messages">
        {% for m in messages %}
          <li class="msg {% if m.tags %}{{ m.tags }}{% endif %}">{{ m }}</li>
        {% endfor %}
      </ul>
      {% endif %}
      {% block content %}{% endblock %}
    </div>
  </body>
</html>
